[gd_scene load_steps=30 format=3 uid="uid://b37oh55fe7ni"]

[ext_resource type="Material" uid="uid://bnitg3laopc21" path="res://Materials/BaseMat.tres" id="1_3c1u0"]
[ext_resource type="PackedScene" uid="uid://ca84ra4cdtwre" path="res://Meshes/CharacterBase.gltf" id="1_awguw"]
[ext_resource type="Material" uid="uid://c78fq3idkalb3" path="res://Materials/HighlightMat.tres" id="2_deo4w"]
[ext_resource type="Material" uid="uid://ujssqbjm0ib0" path="res://Materials/EyeMat.tres" id="3_k3hjf"]
[ext_resource type="Animation" uid="uid://ce6g30127qtfe" path="res://Animations/CharacterWaving.res" id="5_hqih1"]
[ext_resource type="Animation" uid="uid://ctxutymc4q2r5" path="res://Animations/CharacterTPose.res" id="6_rht80"]
[ext_resource type="Animation" uid="uid://cd6rvbbrrbbsu" path="res://Animations/CharacterLookingAround.res" id="7_1i3le"]
[ext_resource type="AnimationLibrary" uid="uid://ccqc5rtu1yu6u" path="res://Animations/Imports/ImportedLibrary.res" id="8_otyaj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4j2xa"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_5pcsq"]
sky_material = SubResource("ProceduralSkyMaterial_4j2xa")

[sub_resource type="Environment" id="Environment_4n8uv"]
background_mode = 2
sky = SubResource("Sky_5pcsq")
tonemap_mode = 2
ssr_enabled = true
ssr_max_steps = 512
ssr_fade_in = 0.395852
ssr_fade_out = 12.9961
sdfgi_enabled = true
glow_enabled = true
glow_strength = 1.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pplg7"]
albedo_color = Color(0.247059, 0.247059, 0.247059, 1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i8gt3"]
_data = {
"LookAround": ExtResource("5_hqih1"),
"TPose": ExtResource("6_rht80"),
"WaveAnimation": ExtResource("7_1i3le")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdl36"]
animation = &"Imported/RunningForwardImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_crva0"]
animation = &"Imported/RunningBackImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0fp1g"]
animation = &"Imported/RunningLeftImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5khmc"]
animation = &"Imported/RunningRightImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hmbxw"]
animation = &"LookAround"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_odn4v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_gdl36")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_crva0")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_0fp1g")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_5khmc")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_hmbxw")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_234b5"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_m14nk"]
filter_enabled = true
filters = ["%GeneralSkeleton:Chest", "%GeneralSkeleton:Head", "%GeneralSkeleton:LeftHand", "%GeneralSkeleton:LeftIndexDistal", "%GeneralSkeleton:LeftIndexIntermediate", "%GeneralSkeleton:LeftIndexProximal", "%GeneralSkeleton:LeftLittleDistal", "%GeneralSkeleton:LeftLittleIntermediate", "%GeneralSkeleton:LeftLittleProximal", "%GeneralSkeleton:LeftLowerArm", "%GeneralSkeleton:LeftMiddleDistal", "%GeneralSkeleton:LeftMiddleIntermediate", "%GeneralSkeleton:LeftMiddleProximal", "%GeneralSkeleton:LeftRingDistal", "%GeneralSkeleton:LeftRingIntermediate", "%GeneralSkeleton:LeftRingProximal", "%GeneralSkeleton:LeftShoulder", "%GeneralSkeleton:LeftThumbDistal", "%GeneralSkeleton:LeftThumbMetacarpal", "%GeneralSkeleton:LeftThumbProximal", "%GeneralSkeleton:LeftUpperArm", "%GeneralSkeleton:Neck", "%GeneralSkeleton:RightHand", "%GeneralSkeleton:RightIndexDistal", "%GeneralSkeleton:RightIndexIntermediate", "%GeneralSkeleton:RightIndexProximal", "%GeneralSkeleton:RightLittleDistal", "%GeneralSkeleton:RightLittleIntermediate", "%GeneralSkeleton:RightLittleProximal", "%GeneralSkeleton:RightLowerArm", "%GeneralSkeleton:RightMiddleDistal", "%GeneralSkeleton:RightMiddleIntermediate", "%GeneralSkeleton:RightMiddleProximal", "%GeneralSkeleton:RightRingDistal", "%GeneralSkeleton:RightRingIntermediate", "%GeneralSkeleton:RightRingProximal", "%GeneralSkeleton:RightShoulder", "%GeneralSkeleton:RightThumbDistal", "%GeneralSkeleton:RightThumbMetacarpal", "%GeneralSkeleton:RightThumbProximal", "%GeneralSkeleton:RightUpperArm", "%GeneralSkeleton:UpperChest", "%GeneralSkeleton:forearm.L.001", "%GeneralSkeleton:forearm.R.001", "%GeneralSkeleton:upper_arm.L.001", "%GeneralSkeleton:upper_arm.R.001"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mqfwa"]
animation = &"LookAround"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rai1r"]
animation = &"WaveAnimation"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7ndp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r8lyt"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lf7uy"]
xfade_time = 1.0
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_20vqd"]
states/LookAround/node = SubResource("AnimationNodeAnimation_mqfwa")
states/LookAround/position = Vector2(365, 100)
states/WaveAnimation/node = SubResource("AnimationNodeAnimation_rai1r")
states/WaveAnimation/position = Vector2(592, 100)
transitions = ["Start", "LookAround", SubResource("AnimationNodeStateMachineTransition_m7ndp"), "LookAround", "WaveAnimation", SubResource("AnimationNodeStateMachineTransition_r8lyt"), "WaveAnimation", "LookAround", SubResource("AnimationNodeStateMachineTransition_lf7uy")]
graph_offset = Vector2(-92, -67)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_jt3pv"]
graph_offset = Vector2(-607.451, 28.8702)
nodes/Locomotion/node = SubResource("AnimationNodeBlendSpace2D_odn4v")
nodes/Locomotion/position = Vector2(-580, 100)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_234b5")
nodes/TimeScale/position = Vector2(-320, 80)
nodes/UpperBodyBlend/node = SubResource("AnimationNodeBlend2_m14nk")
nodes/UpperBodyBlend/position = Vector2(-100, 180)
nodes/UpperBodyStateMachine/node = SubResource("AnimationNodeStateMachine_20vqd")
nodes/UpperBodyStateMachine/position = Vector2(-560, 380)
nodes/output/position = Vector2(280, 160)
node_connections = [&"output", 0, &"UpperBodyBlend", &"UpperBodyBlend", 0, &"TimeScale", &"UpperBodyBlend", 1, &"UpperBodyStateMachine", &"TimeScale", 0, &"Locomotion"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_4fx8t"]

[node name="BipedTestScene" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4n8uv")

[node name="CameraPivot" type="Node3D" parent="."]
transform = Transform3D(0.898104, 0.232326, 0.373407, 0, 0.849073, -0.528275, -0.439782, 0.474446, 0.762556, 0.0450484, 2.40402, -0.338077)

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(-1, 0, -1.19209e-07, 0, 1, 0, 5.96046e-08, -5.96046e-08, -1, -0.00117986, 0.00470376, -2.59218)
size = 0.05

[node name="Platform" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.582475, 0)
size = Vector3(9.6912, 1.07108, 11.8262)
material = SubResource("StandardMaterial3D_pplg7")

[node name="CharacterBase" parent="." instance=ExtResource("1_awguw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00422084, 0, -0.087199)

[node name="GeneralSkeleton" parent="CharacterBase/Character_GameRig" index="0"]
bones/0/position = Vector3(-0.0608658, 1.67195, 0.0619873)
bones/0/rotation = Quaternion(0.0567041, -0.643958, 0.0757024, 0.759192)
bones/1/rotation = Quaternion(0.0326516, -0.0294829, -0.0271249, 0.998664)
bones/2/rotation = Quaternion(-5.58794e-09, 3.49246e-10, -5.58794e-09, 1)
bones/3/rotation = Quaternion(-2.79397e-09, 0, 9.31323e-10, 1)
bones/4/rotation = Quaternion(0.20947, -0.0305711, 0.108405, 0.971307)
bones/5/rotation = Quaternion(-0.232156, -0.567311, 0.0416205, 0.789005)
bones/7/rotation = Quaternion(-0.159004, 0.781592, -0.603086, -0.010931)
bones/8/position = Vector3(-0.00271521, 0.24275, 0.00639024)
bones/8/rotation = Quaternion(-0.000695854, 0.0622152, 0.00163769, 0.998061)
bones/9/rotation = Quaternion(0.24287, -0.621857, 0.19786, 0.717746)
bones/10/position = Vector3(0.00698318, 0.259304, 0.00908709)
bones/10/rotation = Quaternion(0.000290625, 0.0107919, 0.000378556, 0.999942)
bones/11/rotation = Quaternion(-0.107434, 0.705834, -0.135514, 0.686944)
bones/12/rotation = Quaternion(-2.98023e-08, 8.94069e-08, -2.98023e-08, 1)
bones/13/rotation = Quaternion(0.307367, 0.0105297, 0.000616997, 0.951533)
bones/14/rotation = Quaternion(0.307066, 0.0171431, 0.00145572, 0.951533)
bones/15/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/16/rotation = Quaternion(0.3002, 0.0564013, -0.0358389, 0.951533)
bones/17/rotation = Quaternion(0.298077, 0.0682613, -0.0328079, 0.951533)
bones/19/rotation = Quaternion(0, 5.96046e-08, 0, 1)
bones/20/rotation = Quaternion(0.306073, 0.0104753, -0.0281979, 0.951533)
bones/21/rotation = Quaternion(0.30614, 0.0049551, -0.0289722, 0.951533)
bones/23/rotation = Quaternion(2.98023e-08, 2.98023e-08, 2.98023e-08, 1)
bones/24/rotation = Quaternion(0.305513, -0.0320792, -0.0147946, 0.951533)
bones/25/rotation = Quaternion(0.303816, -0.0446707, -0.0168933, 0.951533)
bones/27/rotation = Quaternion(-1.49012e-08, 4.47035e-08, -1.49012e-08, 1)
bones/28/rotation = Quaternion(0.276167, -0.111518, 0.0766882, 0.951533)
bones/29/rotation = Quaternion(0.284069, -0.0781371, 0.0882322, 0.951533)
bones/32/rotation = Quaternion(0.524855, 0.737161, -0.425179, 0.0185716)
bones/33/position = Vector3(0.00265538, 0.237427, 0.00624993)
bones/33/rotation = Quaternion(-0.00116144, -0.103864, -0.00273417, 0.994587)
bones/34/rotation = Quaternion(0.60274, 0.381484, -0.34181, 0.611833)
bones/35/position = Vector3(-0.00684987, 0.254356, 0.00891367)
bones/35/rotation = Quaternion(-0.000103272, 0.00383284, 0.000133935, 0.999993)
bones/36/rotation = Quaternion(0.126396, -0.691896, -0.0743429, 0.706949)
bones/37/rotation = Quaternion(2.98023e-08, -2.98023e-08, -2.98023e-08, 1)
bones/38/rotation = Quaternion(0.307367, -0.0105294, -0.000617057, 0.951533)
bones/39/rotation = Quaternion(0.307067, -0.0171432, -0.00145578, 0.951532)
bones/40/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/41/rotation = Quaternion(0.3002, -0.0564027, 0.0358389, 0.951533)
bones/42/rotation = Quaternion(0.298077, -0.0682612, 0.0328066, 0.951533)
bones/44/rotation = Quaternion(2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/45/rotation = Quaternion(0.306074, -0.0104755, 0.0281977, 0.951532)
bones/46/rotation = Quaternion(0.306139, -0.00495483, 0.0289723, 0.951533)
bones/48/rotation = Quaternion(2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/49/rotation = Quaternion(0.305511, 0.0320784, 0.0147945, 0.951533)
bones/50/rotation = Quaternion(0.303817, 0.0446707, 0.0168934, 0.951533)
bones/52/rotation = Quaternion(5.96046e-08, 5.96046e-08, 0, 1)
bones/53/rotation = Quaternion(0.276167, 0.111519, -0.0766884, 0.951532)
bones/54/rotation = Quaternion(0.284071, 0.0781375, -0.0882317, 0.951532)
bones/57/rotation = Quaternion(0.0666934, -0.138039, 0.988153, -0.007143)
bones/59/rotation = Quaternion(-0.0709987, 0.988792, -0.122283, -0.0479269)
bones/61/rotation = Quaternion(-0.0662024, 0.81135, -0.575808, 0.0759825)
bones/62/rotation = Quaternion(-9.8261e-08, 0.996665, 0.081598, -7.85381e-09)
bones/64/rotation = Quaternion(0.0167736, 0.4481, 0.893721, 0.0137031)
bones/66/rotation = Quaternion(0.0507229, 0.888773, -0.452457, -0.05284)
bones/68/rotation = Quaternion(0.035819, 0.640727, -0.764822, -0.0568529)
bones/69/rotation = Quaternion(2.79559e-07, 0.999929, -0.01191, 9.47087e-09)

[node name="BonkaheCharacterMesh" parent="CharacterBase/Character_GameRig/GeneralSkeleton" index="0"]
surface_material_override/0 = ExtResource("1_3c1u0")
surface_material_override/1 = ExtResource("2_deo4w")
surface_material_override/2 = ExtResource("3_k3hjf")

[node name="AnimationPlayer" parent="CharacterBase" index="1"]
libraries = {
"": SubResource("AnimationLibrary_i8gt3"),
"Imported": ExtResource("8_otyaj")
}

[node name="AnimationTree" type="AnimationTree" parent="CharacterBase"]
tree_root = SubResource("AnimationNodeBlendTree_jt3pv")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/Locomotion/blend_position = Vector2(1.00175, 0.0131004)
parameters/TimeScale/scale = 1.0
parameters/UpperBodyBlend/blend_amount = 1.0
parameters/UpperBodyStateMachine/playback = SubResource("AnimationNodeStateMachinePlayback_4fx8t")

[editable path="CharacterBase"]
