[gd_scene load_steps=33 format=3 uid="uid://b37oh55fe7ni"]

[ext_resource type="Material" uid="uid://bnitg3laopc21" path="res://Materials/BaseMat.tres" id="1_3c1u0"]
[ext_resource type="PackedScene" uid="uid://ca84ra4cdtwre" path="res://Meshes/CharacterBase.gltf" id="1_awguw"]
[ext_resource type="Material" uid="uid://c78fq3idkalb3" path="res://Materials/HighlightMat.tres" id="2_deo4w"]
[ext_resource type="Material" uid="uid://ujssqbjm0ib0" path="res://Materials/EyeMat.tres" id="3_k3hjf"]
[ext_resource type="Animation" uid="uid://ce6g30127qtfe" path="res://Animations/CharacterWaving.res" id="5_hqih1"]
[ext_resource type="Animation" uid="uid://ctxutymc4q2r5" path="res://Animations/CharacterTPose.res" id="6_rht80"]
[ext_resource type="Animation" uid="uid://cd6rvbbrrbbsu" path="res://Animations/CharacterLookingAround.res" id="7_1i3le"]
[ext_resource type="AnimationLibrary" uid="uid://ccqc5rtu1yu6u" path="res://Animations/Imports/ImportedLibrary.res" id="8_otyaj"]
[ext_resource type="Script" path="res://Code/TestMethod.gd" id="9_td3xl"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4j2xa"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_5pcsq"]
sky_material = SubResource("ProceduralSkyMaterial_4j2xa")

[sub_resource type="Environment" id="Environment_4n8uv"]
background_mode = 2
sky = SubResource("Sky_5pcsq")
tonemap_mode = 2
ssr_enabled = true
ssr_max_steps = 512
ssr_fade_in = 0.395852
ssr_fade_out = 12.9961
sdfgi_enabled = true
glow_enabled = true
glow_strength = 1.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pplg7"]
albedo_color = Color(0.247059, 0.247059, 0.247059, 1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i8gt3"]
_data = {
"LookAround": ExtResource("5_hqih1"),
"TPose": ExtResource("6_rht80"),
"WaveAnimation": ExtResource("7_1i3le")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdl36"]
animation = &"Imported/RunningForwardImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_crva0"]
animation = &"Imported/RunningBackImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0fp1g"]
animation = &"Imported/RunningLeftImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5khmc"]
animation = &"Imported/RunningRightImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hmbxw"]
animation = &"TPose"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_odn4v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_gdl36")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_crva0")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_0fp1g")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_5khmc")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_hmbxw")
blend_point_4/pos = Vector2(0, 0)
sync = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_234b5"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_m14nk"]
filter_enabled = true
filters = ["%GeneralSkeleton:Chest", "%GeneralSkeleton:Head", "%GeneralSkeleton:LeftHand", "%GeneralSkeleton:LeftIndexDistal", "%GeneralSkeleton:LeftIndexIntermediate", "%GeneralSkeleton:LeftIndexProximal", "%GeneralSkeleton:LeftLittleDistal", "%GeneralSkeleton:LeftLittleIntermediate", "%GeneralSkeleton:LeftLittleProximal", "%GeneralSkeleton:LeftLowerArm", "%GeneralSkeleton:LeftMiddleDistal", "%GeneralSkeleton:LeftMiddleIntermediate", "%GeneralSkeleton:LeftMiddleProximal", "%GeneralSkeleton:LeftRingDistal", "%GeneralSkeleton:LeftRingIntermediate", "%GeneralSkeleton:LeftRingProximal", "%GeneralSkeleton:LeftShoulder", "%GeneralSkeleton:LeftThumbDistal", "%GeneralSkeleton:LeftThumbMetacarpal", "%GeneralSkeleton:LeftThumbProximal", "%GeneralSkeleton:LeftUpperArm", "%GeneralSkeleton:Neck", "%GeneralSkeleton:RightHand", "%GeneralSkeleton:RightIndexDistal", "%GeneralSkeleton:RightIndexIntermediate", "%GeneralSkeleton:RightIndexProximal", "%GeneralSkeleton:RightLittleDistal", "%GeneralSkeleton:RightLittleIntermediate", "%GeneralSkeleton:RightLittleProximal", "%GeneralSkeleton:RightLowerArm", "%GeneralSkeleton:RightMiddleDistal", "%GeneralSkeleton:RightMiddleIntermediate", "%GeneralSkeleton:RightMiddleProximal", "%GeneralSkeleton:RightRingDistal", "%GeneralSkeleton:RightRingIntermediate", "%GeneralSkeleton:RightRingProximal", "%GeneralSkeleton:RightShoulder", "%GeneralSkeleton:RightThumbDistal", "%GeneralSkeleton:RightThumbMetacarpal", "%GeneralSkeleton:RightThumbProximal", "%GeneralSkeleton:RightUpperArm", "%GeneralSkeleton:UpperChest", "%GeneralSkeleton:forearm.L.001", "%GeneralSkeleton:forearm.R.001", "%GeneralSkeleton:upper_arm.L.001", "%GeneralSkeleton:upper_arm.R.001", "../Platform", "Character_GameRig/GeneralSkeleton/BonkaheCharacterMesh:blend_shapes/TestShape", "Character_GameRig/GeneralSkeleton/BonkaheCharacterMesh:blend_shapes/TestShape1", "MeshInstance3D", "MethodNotification"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mqfwa"]
animation = &"LookAround"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rai1r"]
animation = &"WaveAnimation"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7ndp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r8lyt"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lf7uy"]
xfade_time = 1.0
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_20vqd"]
states/LookAround/node = SubResource("AnimationNodeAnimation_mqfwa")
states/LookAround/position = Vector2(365, 100)
states/WaveAnimation/node = SubResource("AnimationNodeAnimation_rai1r")
states/WaveAnimation/position = Vector2(599, 123)
transitions = ["Start", "LookAround", SubResource("AnimationNodeStateMachineTransition_m7ndp"), "LookAround", "WaveAnimation", SubResource("AnimationNodeStateMachineTransition_r8lyt"), "WaveAnimation", "LookAround", SubResource("AnimationNodeStateMachineTransition_lf7uy")]
graph_offset = Vector2(-118, 15)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_jt3pv"]
graph_offset = Vector2(-647.339, -37.9197)
nodes/Locomotion/node = SubResource("AnimationNodeBlendSpace2D_odn4v")
nodes/Locomotion/position = Vector2(-580, 100)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_234b5")
nodes/TimeScale/position = Vector2(-320, 80)
nodes/UpperBodyBlend/node = SubResource("AnimationNodeBlend2_m14nk")
nodes/UpperBodyBlend/position = Vector2(-100, 180)
nodes/UpperBodyStateMachine/node = SubResource("AnimationNodeStateMachine_20vqd")
nodes/UpperBodyStateMachine/position = Vector2(-560, 380)
nodes/output/position = Vector2(280, 160)
node_connections = [&"output", 0, &"UpperBodyBlend", &"TimeScale", 0, &"Locomotion", &"UpperBodyBlend", 0, &"TimeScale", &"UpperBodyBlend", 1, &"UpperBodyStateMachine"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_4fx8t"]

[sub_resource type="BoxMesh" id="BoxMesh_kva6u"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3de24"]
emission_enabled = true
emission = Color(0.788235, 0.921569, 0.439216, 1)
emission_energy_multiplier = 1.88

[node name="BipedTestScene" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4n8uv")

[node name="CameraPivot" type="Node3D" parent="."]
transform = Transform3D(-0.753563, -0.164094, -0.636565, 0, 0.968344, -0.249619, 0.657375, -0.188104, -0.729708, 0.0450484, 2.40402, -0.338077)

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(-1, 2.23517e-08, -1.49012e-07, 2.98023e-08, 1, -4.47035e-08, 8.9407e-08, -5.96046e-08, -1, -0.00118151, 0.00470376, -7.39416)
size = 0.05

[node name="Platform" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.582475, 0)
size = Vector3(9.6912, 1.07108, 11.8262)
material = SubResource("StandardMaterial3D_pplg7")

[node name="CharacterBase" parent="." instance=ExtResource("1_awguw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00422084, 0, -0.087199)

[node name="GeneralSkeleton" parent="CharacterBase/Character_GameRig" index="0"]
bones/0/rotation = Quaternion(0, -7.10543e-15, 0, 1)
bones/1/rotation = Quaternion(7.45058e-09, 5.47528e-09, -4.29452e-10, 1)
bones/2/rotation = Quaternion(-5.58794e-09, 3.49246e-10, -5.58794e-09, 1)
bones/3/rotation = Quaternion(-2.79397e-09, 0, 9.31323e-10, 1)
bones/4/rotation = Quaternion(4.37725e-06, 6.36075e-05, -0.000225571, 1)
bones/5/rotation = Quaternion(-4.08658e-07, 0.000297645, 5.83331e-05, 1)
bones/7/rotation = Quaternion(-0.179429, 0.788022, -0.588812, -0.011309)
bones/8/position = Vector3(-0.00270634, 0.241955, 0.00636934)
bones/8/rotation = Quaternion(-0.000706705, 0.0631917, 0.00166343, 0.998)
bones/9/rotation = Quaternion(0.255866, -0.616649, 0.207251, 0.715069)
bones/10/position = Vector3(0.0069613, 0.258493, 0.00905874)
bones/10/rotation = Quaternion(-0.000553132, -0.0205416, -0.000719419, 0.999789)
bones/11/rotation = Quaternion(-0.120499, 0.682105, -0.138942, 0.707748)
bones/12/rotation = Quaternion(-2.98023e-08, 8.94069e-08, -2.98023e-08, 1)
bones/13/rotation = Quaternion(0.307367, 0.0105297, 0.000616997, 0.951533)
bones/14/rotation = Quaternion(0.307066, 0.0171431, 0.00145572, 0.951533)
bones/15/rotation = Quaternion(-0.214187, 0.673887, 0.214187, 0.673887)
bones/16/rotation = Quaternion(0.3002, 0.0564013, -0.0358389, 0.951533)
bones/17/rotation = Quaternion(0.298077, 0.0682613, -0.0328079, 0.951533)
bones/19/rotation = Quaternion(0, 5.96046e-08, 0, 1)
bones/20/rotation = Quaternion(0.306073, 0.0104753, -0.0281979, 0.951533)
bones/21/rotation = Quaternion(0.30614, 0.0049551, -0.0289722, 0.951533)
bones/23/rotation = Quaternion(2.98023e-08, 2.98023e-08, 2.98023e-08, 1)
bones/24/rotation = Quaternion(0.305513, -0.0320792, -0.0147946, 0.951533)
bones/25/rotation = Quaternion(0.303816, -0.0446707, -0.0168933, 0.951533)
bones/27/rotation = Quaternion(-1.49012e-08, 4.47035e-08, -1.49012e-08, 1)
bones/28/rotation = Quaternion(0.276167, -0.111518, 0.0766882, 0.951533)
bones/29/rotation = Quaternion(0.284069, -0.0781371, 0.0882322, 0.951533)
bones/32/rotation = Quaternion(0.178934, 0.787937, -0.589076, 0.0112985)
bones/33/position = Vector3(0.00270666, 0.242012, 0.00637071)
bones/33/rotation = Quaternion(-0.000705323, -0.0630641, -0.0016601, 0.998008)
bones/34/rotation = Quaternion(0.255801, 0.616662, -0.207197, 0.715097)
bones/35/position = Vector3(-0.00696288, 0.258554, 0.00906084)
bones/35/rotation = Quaternion(-0.000541109, 0.0200927, 0.000703699, 0.999798)
bones/36/rotation = Quaternion(-0.120109, -0.682384, 0.138989, 0.707537)
bones/37/rotation = Quaternion(2.98023e-08, -2.98023e-08, -2.98023e-08, 1)
bones/38/rotation = Quaternion(0.307367, -0.0105294, -0.000617057, 0.951533)
bones/39/rotation = Quaternion(0.307067, -0.0171432, -0.00145578, 0.951532)
bones/40/rotation = Quaternion(-0.214187, -0.673887, -0.214187, 0.673887)
bones/41/rotation = Quaternion(0.3002, -0.0564027, 0.0358389, 0.951533)
bones/42/rotation = Quaternion(0.298077, -0.0682612, 0.0328066, 0.951533)
bones/44/rotation = Quaternion(2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/45/rotation = Quaternion(0.306074, -0.0104755, 0.0281977, 0.951532)
bones/46/rotation = Quaternion(0.306139, -0.00495483, 0.0289723, 0.951533)
bones/48/rotation = Quaternion(2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/49/rotation = Quaternion(0.305511, 0.0320784, 0.0147945, 0.951533)
bones/50/rotation = Quaternion(0.303817, 0.0446707, 0.0168934, 0.951533)
bones/52/rotation = Quaternion(5.96046e-08, 5.96046e-08, 0, 1)
bones/53/rotation = Quaternion(0.276167, 0.111519, -0.0766884, 0.951532)
bones/54/rotation = Quaternion(0.284071, 0.0781375, -0.0882317, 0.951532)
bones/57/rotation = Quaternion(-6.84708e-06, 6.10948e-05, 1, -5.37932e-06)
bones/58/position = Vector3(-0.0352817, 0.326164, 0.0181504)
bones/58/rotation = Quaternion(-1.86264e-09, -4.16767e-08, -7.45058e-09, 1)
bones/59/rotation = Quaternion(9.12603e-06, 1, -0.00010514, 9.96131e-06)
bones/60/position = Vector3(0.0382396, 0.445716, 0.0902211)
bones/60/rotation = Quaternion(9.31323e-10, 2.6077e-08, 4.65661e-10, 1)
bones/61/rotation = Quaternion(1.05367e-08, 0.707107, -0.707107, 3.16101e-08)
bones/62/rotation = Quaternion(4.01745e-06, 1, 4.25875e-05, 9.50609e-07)
bones/64/rotation = Quaternion(7.75233e-06, 5.91278e-05, 1, 5.07384e-06)
bones/65/position = Vector3(0.0352818, 0.326164, 0.0181505)
bones/65/rotation = Quaternion(4.65661e-09, 3.72529e-08, 1.86264e-09, 1)
bones/66/rotation = Quaternion(-8.97236e-06, 1, -0.000102477, -1.04456e-05)
bones/67/position = Vector3(-0.0382398, 0.445715, 0.090221)
bones/67/rotation = Quaternion(-6.75209e-09, -1.49012e-08, -2.79397e-09, 1)
bones/68/rotation = Quaternion(-6.58545e-09, 0.707107, -0.707107, -1.4488e-08)
bones/69/rotation = Quaternion(-3.59532e-06, 1, 3.88622e-05, -6.90484e-07)

[node name="BonkaheCharacterMesh" parent="CharacterBase/Character_GameRig/GeneralSkeleton" index="0"]
blend_shapes/TestShape1 = -1.0
surface_material_override/0 = ExtResource("1_3c1u0")
surface_material_override/1 = ExtResource("2_deo4w")
surface_material_override/2 = ExtResource("3_k3hjf")

[node name="AnimationPlayer" parent="CharacterBase" index="1"]
libraries = {
"": SubResource("AnimationLibrary_i8gt3"),
"Imported": ExtResource("8_otyaj")
}

[node name="AnimationTree" type="AnimationTree" parent="CharacterBase"]
tree_root = SubResource("AnimationNodeBlendTree_jt3pv")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/Locomotion/blend_position = Vector2(0, 0)
parameters/TimeScale/scale = 0.5
parameters/UpperBodyBlend/blend_amount = 1.0
parameters/UpperBodyStateMachine/playback = SubResource("AnimationNodeStateMachinePlayback_4fx8t")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBase"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.22678, 0.0128694)
visible = false
mesh = SubResource("BoxMesh_kva6u")
surface_material_override/0 = SubResource("StandardMaterial3D_3de24")
script = ExtResource("9_td3xl")

[editable path="CharacterBase"]
