[gd_scene load_steps=33 format=3 uid="uid://b37oh55fe7ni"]

[ext_resource type="Material" uid="uid://bnitg3laopc21" path="res://Materials/BaseMat.tres" id="1_3c1u0"]
[ext_resource type="PackedScene" uid="uid://ca84ra4cdtwre" path="res://Meshes/CharacterBase.gltf" id="1_awguw"]
[ext_resource type="Material" uid="uid://c78fq3idkalb3" path="res://Materials/HighlightMat.tres" id="2_deo4w"]
[ext_resource type="Material" uid="uid://ujssqbjm0ib0" path="res://Materials/EyeMat.tres" id="3_k3hjf"]
[ext_resource type="Animation" uid="uid://ce6g30127qtfe" path="res://Animations/CharacterWaving.res" id="5_hqih1"]
[ext_resource type="Animation" uid="uid://ctxutymc4q2r5" path="res://Animations/CharacterTPose.res" id="6_rht80"]
[ext_resource type="Animation" uid="uid://cd6rvbbrrbbsu" path="res://Animations/CharacterLookingAround.res" id="7_1i3le"]
[ext_resource type="AnimationLibrary" uid="uid://ccqc5rtu1yu6u" path="res://Animations/Imports/ImportedLibrary.res" id="8_otyaj"]
[ext_resource type="Script" path="res://Code/TestMethod.gd" id="9_td3xl"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4j2xa"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_5pcsq"]
sky_material = SubResource("ProceduralSkyMaterial_4j2xa")

[sub_resource type="Environment" id="Environment_4n8uv"]
background_mode = 2
sky = SubResource("Sky_5pcsq")
tonemap_mode = 2
ssr_enabled = true
ssr_max_steps = 512
ssr_fade_in = 0.395852
ssr_fade_out = 12.9961
sdfgi_enabled = true
glow_enabled = true
glow_strength = 1.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pplg7"]
albedo_color = Color(0.247059, 0.247059, 0.247059, 1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i8gt3"]
_data = {
"LookAround": ExtResource("5_hqih1"),
"TPose": ExtResource("6_rht80"),
"WaveAnimation": ExtResource("7_1i3le")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdl36"]
animation = &"Imported/RunningForwardImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_crva0"]
animation = &"Imported/RunningBackImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0fp1g"]
animation = &"Imported/RunningLeftImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5khmc"]
animation = &"Imported/RunningRightImport"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hmbxw"]
animation = &"TPose"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_odn4v"]
blend_point_0/node = SubResource("AnimationNodeAnimation_gdl36")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_crva0")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_0fp1g")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_5khmc")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_hmbxw")
blend_point_4/pos = Vector2(0, 0)
sync = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_234b5"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_m14nk"]
filter_enabled = true
filters = ["%GeneralSkeleton:Chest", "%GeneralSkeleton:Head", "%GeneralSkeleton:LeftHand", "%GeneralSkeleton:LeftIndexDistal", "%GeneralSkeleton:LeftIndexIntermediate", "%GeneralSkeleton:LeftIndexProximal", "%GeneralSkeleton:LeftLittleDistal", "%GeneralSkeleton:LeftLittleIntermediate", "%GeneralSkeleton:LeftLittleProximal", "%GeneralSkeleton:LeftLowerArm", "%GeneralSkeleton:LeftMiddleDistal", "%GeneralSkeleton:LeftMiddleIntermediate", "%GeneralSkeleton:LeftMiddleProximal", "%GeneralSkeleton:LeftRingDistal", "%GeneralSkeleton:LeftRingIntermediate", "%GeneralSkeleton:LeftRingProximal", "%GeneralSkeleton:LeftShoulder", "%GeneralSkeleton:LeftThumbDistal", "%GeneralSkeleton:LeftThumbMetacarpal", "%GeneralSkeleton:LeftThumbProximal", "%GeneralSkeleton:LeftUpperArm", "%GeneralSkeleton:Neck", "%GeneralSkeleton:RightHand", "%GeneralSkeleton:RightIndexDistal", "%GeneralSkeleton:RightIndexIntermediate", "%GeneralSkeleton:RightIndexProximal", "%GeneralSkeleton:RightLittleDistal", "%GeneralSkeleton:RightLittleIntermediate", "%GeneralSkeleton:RightLittleProximal", "%GeneralSkeleton:RightLowerArm", "%GeneralSkeleton:RightMiddleDistal", "%GeneralSkeleton:RightMiddleIntermediate", "%GeneralSkeleton:RightMiddleProximal", "%GeneralSkeleton:RightRingDistal", "%GeneralSkeleton:RightRingIntermediate", "%GeneralSkeleton:RightRingProximal", "%GeneralSkeleton:RightShoulder", "%GeneralSkeleton:RightThumbDistal", "%GeneralSkeleton:RightThumbMetacarpal", "%GeneralSkeleton:RightThumbProximal", "%GeneralSkeleton:RightUpperArm", "%GeneralSkeleton:UpperChest", "%GeneralSkeleton:forearm.L.001", "%GeneralSkeleton:forearm.R.001", "%GeneralSkeleton:upper_arm.L.001", "%GeneralSkeleton:upper_arm.R.001", "../Platform", "Character_GameRig/GeneralSkeleton/BonkaheCharacterMesh:blend_shapes/TestShape", "Character_GameRig/GeneralSkeleton/BonkaheCharacterMesh:blend_shapes/TestShape1", "MeshInstance3D", "MethodNotification"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mqfwa"]
animation = &"LookAround"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rai1r"]
animation = &"WaveAnimation"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m7ndp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r8lyt"]
xfade_time = 0.5

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lf7uy"]
xfade_time = 1.0
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_20vqd"]
states/LookAround/node = SubResource("AnimationNodeAnimation_mqfwa")
states/LookAround/position = Vector2(365, 100)
states/WaveAnimation/node = SubResource("AnimationNodeAnimation_rai1r")
states/WaveAnimation/position = Vector2(599, 123)
transitions = ["Start", "LookAround", SubResource("AnimationNodeStateMachineTransition_m7ndp"), "LookAround", "WaveAnimation", SubResource("AnimationNodeStateMachineTransition_r8lyt"), "WaveAnimation", "LookAround", SubResource("AnimationNodeStateMachineTransition_lf7uy")]
graph_offset = Vector2(-118, 15)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_jt3pv"]
graph_offset = Vector2(-647.339, -37.9197)
nodes/Locomotion/node = SubResource("AnimationNodeBlendSpace2D_odn4v")
nodes/Locomotion/position = Vector2(-580, 100)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_234b5")
nodes/TimeScale/position = Vector2(-320, 80)
nodes/UpperBodyBlend/node = SubResource("AnimationNodeBlend2_m14nk")
nodes/UpperBodyBlend/position = Vector2(-100, 180)
nodes/UpperBodyStateMachine/node = SubResource("AnimationNodeStateMachine_20vqd")
nodes/UpperBodyStateMachine/position = Vector2(-560, 380)
nodes/output/position = Vector2(280, 160)
node_connections = [&"output", 0, &"UpperBodyBlend", &"TimeScale", 0, &"Locomotion", &"UpperBodyBlend", 0, &"TimeScale", &"UpperBodyBlend", 1, &"UpperBodyStateMachine"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_4fx8t"]

[sub_resource type="BoxMesh" id="BoxMesh_kva6u"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3de24"]
emission_enabled = true
emission = Color(0.788235, 0.921569, 0.439216, 1)
emission_energy_multiplier = 1.88

[node name="BipedTestScene" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4n8uv")

[node name="CameraPivot" type="Node3D" parent="."]
transform = Transform3D(-0.753563, -0.164094, -0.636565, 0, 0.968344, -0.249619, 0.657375, -0.188104, -0.729708, 0.0450484, 2.40402, -0.338077)

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(-1, 2.23517e-08, -1.49012e-07, 2.98023e-08, 1, -4.47035e-08, 8.9407e-08, -5.96046e-08, -1, -0.00118151, 0.00470376, -7.39416)
size = 0.05

[node name="Platform" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.582475, 0)
size = Vector3(9.6912, 1.07108, 11.8262)
material = SubResource("StandardMaterial3D_pplg7")

[node name="CharacterBase" parent="." instance=ExtResource("1_awguw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00422084, 0, -0.087199)

[node name="GeneralSkeleton" parent="CharacterBase/Character_GameRig" index="0"]
bones/0/position = Vector3(0.201302, 1.6502, -0.0930935)
bones/0/rotation = Quaternion(0, -7.10543e-15, 0, 1)
bones/1/rotation = Quaternion(7.45058e-09, 5.47528e-09, -4.29452e-10, 1)
bones/2/rotation = Quaternion(-0.000854779, -0.0302103, 0.00967654, 0.999496)
bones/3/rotation = Quaternion(-0.000854645, -0.091069, 0.0116136, 0.995776)
bones/4/rotation = Quaternion(0.000588779, 0.0606674, -0.010668, 0.998101)
bones/5/rotation = Quaternion(0.00392551, 0.0578492, 0.0447375, 0.997315)
bones/7/rotation = Quaternion(-0.132746, -0.90236, -0.40995, -0.00807965)
bones/8/position = Vector3(-0.00268238, 0.239824, 0.00631331)
bones/8/rotation = Quaternion(0.00250731, -0.224148, -0.00590029, 0.974534)
bones/9/rotation = Quaternion(0.241245, -0.769142, 0.361604, 0.46847)
bones/10/position = Vector3(0.0069026, 0.256302, 0.0089822)
bones/10/rotation = Quaternion(-0.000568544, -0.0211064, -0.000738919, 0.999777)
bones/11/rotation = Quaternion(0.033953, 0.639799, 0.306717, 0.703867)
bones/12/rotation = Quaternion(-2.98023e-08, 8.9407e-08, -2.98023e-08, 1)
bones/13/rotation = Quaternion(-0.058422, -0.00200119, -0.000117422, 0.99829)
bones/14/rotation = Quaternion(-0.0583071, -0.00325521, -0.000276138, 0.998293)
bones/15/rotation = Quaternion(-0.0838426, 0.707308, 0.269198, 0.648243)
bones/16/rotation = Quaternion(0.0797345, -0.0349504, -0.0156039, -0.996081)
bones/17/rotation = Quaternion(-0.0701895, -0.0160738, 0.0077253, 0.997374)
bones/19/rotation = Quaternion(0, 5.96046e-08, 0, 1)
bones/20/rotation = Quaternion(-0.0406248, -0.0013901, 0.00374317, 0.999167)
bones/21/rotation = Quaternion(-0.0406333, -0.000657618, 0.00384505, 0.999167)
bones/23/rotation = Quaternion(2.98023e-08, 2.98023e-08, 2.98023e-08, 1)
bones/24/rotation = Quaternion(-0.0533872, 0.00560606, 0.00258467, 0.998554)
bones/25/rotation = Quaternion(-0.0531006, 0.00780746, 0.00295177, 0.998554)
bones/27/rotation = Quaternion(-1.49012e-08, 4.47035e-08, -1.49012e-08, 1)
bones/28/rotation = Quaternion(0.184595, -0.0745407, 0.0512592, 0.978642)
bones/29/rotation = Quaternion(0.189938, -0.0522451, 0.0589954, 0.978628)
bones/31/rotation = Quaternion(0.5, -0.5, -0.5, -0.5)
bones/32/rotation = Quaternion(0.133812, 0.913562, -0.383977, 0.00781718)
bones/33/position = Vector3(0.00264341, 0.236363, 0.00622211)
bones/33/rotation = Quaternion(-0.00253749, -0.22692, -0.0059737, 0.973892)
bones/34/rotation = Quaternion(0.569333, 0.325917, -0.238465, 0.716082)
bones/35/position = Vector3(-0.0068, 0.252507, 0.00884882)
bones/35/rotation = Quaternion(0.00167779, -0.0622946, -0.00218344, 0.998054)
bones/36/rotation = Quaternion(-0.0795271, -0.736519, -0.132746, 0.658478)
bones/37/rotation = Quaternion(0.15347, -0.00564404, -0.0109155, 0.988077)
bones/38/rotation = Quaternion(0.201545, 0.012752, -0.00205979, 0.979394)
bones/39/rotation = Quaternion(0.200515, -0.0111946, -0.000950575, 0.979626)
bones/40/rotation = Quaternion(-0.088792, -0.698213, -0.306902, 0.640645)
bones/41/rotation = Quaternion(-0.179602, 0.0337442, -0.0214413, -0.982927)
bones/42/rotation = Quaternion(0.178333, -0.0408391, 0.0196269, 0.982926)
bones/44/rotation = Quaternion(0.15414, -0.00157273, -0.00952011, 0.988002)
bones/45/rotation = Quaternion(0.297664, 0.00491087, 0.0243017, 0.954349)
bones/46/rotation = Quaternion(0.297086, -0.00480834, 0.0281155, 0.954424)
bones/48/rotation = Quaternion(-0.153804, -0.0192727, 0.00452125, -0.987903)
bones/49/rotation = Quaternion(0.15721, 0.0104315, 0.00839153, 0.987474)
bones/50/rotation = Quaternion(0.155645, 0.0228848, 0.00865459, 0.98751)
bones/52/rotation = Quaternion(0.147328, 0.0390217, 0.00575066, 0.988301)
bones/53/rotation = Quaternion(0.0074591, -0.027104, -0.00716066, 0.999579)
bones/54/rotation = Quaternion(0, 0, -5.96046e-08, 1)
bones/57/rotation = Quaternion(0.0115836, -0.104949, -0.994401, -0.004144)
bones/58/position = Vector3(-0.0348143, 0.321843, 0.01791)
bones/58/rotation = Quaternion(0.00053219, -0.00491948, -0.000273649, 0.999988)
bones/59/rotation = Quaternion(0.016347, 0.980559, -0.194702, 0.0181127)
bones/60/position = Vector3(0.0378633, 0.44133, 0.0893333)
bones/60/rotation = Quaternion(-0.00577063, -0.0672618, -0.013615, 0.997626)
bones/61/rotation = Quaternion(0.0369072, 0.642397, -0.763808, 0.050613)
bones/62/rotation = Quaternion(3.75542e-05, -1, 0.000222683, 2.35324e-05)
bones/64/rotation = Quaternion(0.00979129, 0.0349527, -0.993484, -0.10804)
bones/65/position = Vector3(0.0352674, 0.32603, 0.0181431)
bones/65/rotation = Quaternion(-0.000723916, -0.00669223, -0.00037241, 0.999977)
bones/66/rotation = Quaternion(0.00275526, 0.999525, 0.029084, 0.00981442)
bones/67/position = Vector3(-0.0382282, 0.445581, 0.0901937)
bones/67/rotation = Quaternion(-0.00708915, 0.0826303, 0.0167259, 0.996415)
bones/68/rotation = Quaternion(0.0485873, 0.717481, -0.682859, -0.1287)
bones/69/rotation = Quaternion(0.000104903, 1, -0.000368893, 8.80879e-05)

[node name="BonkaheCharacterMesh" parent="CharacterBase/Character_GameRig/GeneralSkeleton" index="0"]
blend_shapes/TestShape1 = 1.0
surface_material_override/0 = ExtResource("1_3c1u0")
surface_material_override/1 = ExtResource("2_deo4w")
surface_material_override/2 = ExtResource("3_k3hjf")

[node name="AnimationPlayer" parent="CharacterBase" index="1"]
libraries = {
"": SubResource("AnimationLibrary_i8gt3"),
"Imported": ExtResource("8_otyaj")
}

[node name="AnimationTree" type="AnimationTree" parent="CharacterBase"]
tree_root = SubResource("AnimationNodeBlendTree_jt3pv")
anim_player = NodePath("../AnimationPlayer")
parameters/Locomotion/blend_position = Vector2(0, 0)
parameters/TimeScale/scale = 0.5
parameters/UpperBodyBlend/blend_amount = 1.0
parameters/UpperBodyStateMachine/playback = SubResource("AnimationNodeStateMachinePlayback_4fx8t")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBase"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.22678, 0.0128694)
visible = false
mesh = SubResource("BoxMesh_kva6u")
surface_material_override/0 = SubResource("StandardMaterial3D_3de24")
script = ExtResource("9_td3xl")

[editable path="CharacterBase"]
